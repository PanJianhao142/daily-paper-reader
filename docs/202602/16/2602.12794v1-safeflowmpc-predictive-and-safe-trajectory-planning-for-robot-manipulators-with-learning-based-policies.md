---
title: "SafeFlowMPC: Predictive and Safe Trajectory Planning for Robot Manipulators with Learning-based Policies"
title_zh: SafeFlowMPC：结合学习策略的机器人操作臂预测性与安全轨迹规划
authors: "Thies Oelerich, Gerald Ebmer, Christian Hartl-Nesic, Andreas Kugi"
date: 2026-02-13
pdf: "https://arxiv.org/pdf/2602.12794v1"
tags: ["keyword:FM"]
score: 6.0
evidence: 使用流匹配进行轨迹规划和基于学习的策略
tldr: 随着机器人进入日常生活，对灵活性和实时反应的需求日益增加。本文提出 SafeFlowMPC，将基于流匹配（Flow Matching）的学习策略与在线优化（MPC）相结合。该方法利用学习模型实现任务泛化，同时通过次优模型预测控制框架确保实时执行中的严苛安全性。在 KUKA 7自由度机械臂上的抓取和人机协作实验证明，该方法在保证安全的同时具备强大的动态适应能力。
motivation: 旨在解决学习算法缺乏安全性保障与优化算法缺乏灵活性之间的矛盾。
method: 提出一种结合流匹配生成策略与次优模型预测控制（MPC）的混合规划框架，以兼顾泛化性与实时安全性。
result: 在 KUKA 机械臂的抓取及动态人机交接实验中，该方法实现了高性能表现并确保了全过程的安全性。
conclusion: SafeFlowMPC 成功融合了学习模型的灵活性与优化算法的严谨性，为实时机器人任务提供了可靠的轨迹规划方案。
---

## 摘要
机器人日益融入日常生活带来了若干重大挑战。与传统的工业应用相比，机器人需要更高的灵活性以及实时反应能力。基于学习的方法可以根据演示轨迹训练出强大的策略，使机器人能够将任务泛化到类似的情境中。然而，这些黑盒模型缺乏可解释性和严格的安全保证。基于优化的方法虽然提供了这些保证，但缺乏所需的灵活性和泛化能力。本研究提出了 SafeFlowMPC，这是一种流匹配（flow matching）与在线优化的结合，旨在融合学习与优化的优势。该方法在任何时候都能保证安全性，并通过使用次优模型预测控制（suboptimal model-predictive control）公式来满足实时执行的需求。SafeFlowMPC 在 KUKA 7自由度（7-DoF）操作臂上的三个真实世界实验中表现出强劲的性能，包括两个抓取实验和一个动态人机物体移交实验。实验视频可在 http://www.acin.tuwien.ac.at/42d6 获取，代码可在 https://github.com/TU-Wien-ACIN-CDS/SafeFlowMPC 获取。

## Abstract
The emerging integration of robots into everyday life brings several major challenges. Compared to classical industrial applications, more flexibility is needed in combination with real-time reactivity. Learning-based methods can train powerful policies based on demonstrated trajectories, such that the robot generalizes a task to similar situations. However, these black-box models lack interpretability and rigorous safety guarantees. Optimization-based methods provide these guarantees but lack the required flexibility and generalization capabilities. This work proposes SafeFlowMPC, a combination of flow matching and online optimization to combine the strengths of learning and optimization. This method guarantees safety at all times and is designed to meet the demands of real-time execution by using a suboptimal model-predictive control formulation. SafeFlowMPC achieves strong performance in three real-world experiments on a KUKA 7-DoF manipulator, namely two grasping experiment and a dynamic human-robot object handover experiment. A video of the experiments is available at http://www.acin.tuwien.ac.at/42d6. The code is available at https://github.com/TU-Wien-ACIN-CDS/SafeFlowMPC.